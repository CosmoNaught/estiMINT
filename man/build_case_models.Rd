% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/build_models.R
\name{build_case_models}
\alias{build_case_models}
\title{Build annual-case prediction models with enhanced stratification and weighting}
\usage{
build_case_models(
  db_path,
  data_dir = "case_data",
  model_dir = "model_parameters_cases",
  plot_dir = "training_plots_cases",
  plotting = TRUE,
  y_keep = 0:6,
  param_limit = NULL,
  sim_limit = NULL,
  tune_hyperparams = TRUE,
  export_data = TRUE,
  use_case_weights = TRUE,
  weight_power = 0.75,
  stratified_eval = TRUE
)
}
\arguments{
\item{db_path}{Character path to DuckDB database}

\item{data_dir}{Directory to store training data}

\item{model_dir}{Character path to save model artifacts (default: "model_parameters")}

\item{plot_dir}{Character path to save plots (default: "training_plots")}

\item{plotting}{Logical whether to generate plots (default: TRUE)}

\item{y_keep}{Integer vector of simulation years to keep when training
(default 0:6).  During prediction you must pass a column
called \strong{\code{year}} with a value 0â€“5 indicating the horizon
for which you want cases/1000.}

\item{param_limit}{Integer limit on parameter index (default: NULL)}

\item{sim_limit}{Integer limit on simulations per parameter (default: NULL)}

\item{tune_hyperparams}{Logical whether to tune hyperparameters (default: TRUE)}

\item{export_data}{Bool to export data}

\item{use_case_weights}{Logical whether to use dynamic case-based weights (default: TRUE)}

\item{weight_power}{Numeric power for weight calculation (default: 0.5)}

\item{stratified_eval}{Logical whether to compute stratified metrics (default: TRUE)}
}
\value{
List: models, metrics, feature_cols, model_dir, plot_dir
}
\description{
Build annual-case prediction models with enhanced stratification and weighting
}
